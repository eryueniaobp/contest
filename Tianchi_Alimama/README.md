# 比赛介绍

[icjai阿里妈妈cvr比赛](https://tianchi.aliyun.com/competition/myScore.htm?spm=5176.11165261.0.0.18095748ClUQgZ&raceId=231647&season=1)
初赛：普通日期
复赛：特殊日期的购物cvr预测
评测： logloss

# 成绩
rank 都是200多名 
初赛0.08656   
复赛0.0146

# 复赛重要思路

复赛最后一天 cvr 大涨，应该是特殊的营销节日 

普遍做法都是拿 7 号上午做训练样本；预测7号下午的情况   

单独用7号的数据做特征，会导致  预测偏高；很多成绩好的同学都是采用 前面所有数据做统计特征加入到 7号上午的样本，取得了较好的成绩  


## 错误思路
1） 全部数据做样本，预测7号下午： 数据分布不同   
**2） 只用7号上午数据做样本，预测7号下午 ： 历史统计信息大量丢失**  



## 统计特征 

三大类统计特征： 
*  历史转化率特征
*  常规历史统计特征（count，mean等 平均价格等等） 
*  注意力分布特征  （比如一个用户关注了 100个商品，那么每个商品都有一个 注意力系数； 加起来是 1）  

时间特征： 
* 时间差 
* 首次/末次  --- 这个很多人用了，自己忽略了
* 上次，下次 

# 模型

据说只用lgb就能达到很好的成绩 ；特征处理还是关键

# 特征选择 + 模型融合
前向/后向 都可以用 ; 

模型融合是： 不同的特征 做出不同的模型，然后融合 ；同样的特征做模型，融合效果不大  
stacking之类的，太复杂，不太经济 

# 工程方案

刚开始过度依赖MR流程，损失了灵活性； 

后来把MR 和 本地的python（pandas等） 结合起来，MR复杂生成一些特征，跟本地的pandas dataframe join之后做预测， 迭代加快了 

